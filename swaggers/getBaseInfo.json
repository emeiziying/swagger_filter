{
  "openapi": "3.0.1",
  "info": {
    "title": "系统模块接口文档",
    "description": "用户、角色、权限等接口文档",
    "contact": {
      "name": "boeet"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://127.0.0.1:8880/api/system"
    }
  ],
  "paths": {
    "/workbenchConfig/getBaseInfo": {
      "post": {
        "tags": ["工作台配置"],
        "summary": "登录后初始化用户信息并获取菜单树及权限列表",
        "operationId": "getInitInfo",
        "parameters": [
          {
            "name": "appId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "sign",
            "in": "query",
            "description": "签名",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AjaxResultBaseInfoVo"
                }
              }
            }
          }
        },
        "x-order": 20
      }
    }
  },
  "components": {
    "schemas": {
      "AjaxResultBaseInfoVo": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "format": "int32"
          },
          "msg": {
            "type": "string",
            "description": "消息"
          },
          "data": {
            "$ref": "#/components/schemas/BaseInfoVo"
          }
        },
        "description": "接口返回"
      },
      "BaseInfoVo": {
        "type": "object",
        "properties": {
          "userInfo": {
            "$ref": "#/components/schemas/BaseUserVo",
            "refType": "BaseUserVo"
          },
          "menuList": {
            "type": "array",
            "description": "前端菜单树",
            "items": {
              "$ref": "#/components/schemas/SysMenuDo"
            },
            "refType": "SysMenuDo"
          },
          "backMenuList": {
            "type": "array",
            "description": "后端菜单树",
            "items": {
              "$ref": "#/components/schemas/SysMenuDo"
            },
            "refType": "SysMenuDo"
          },
          "roleList": {
            "type": "array",
            "description": "功能权限列表",
            "items": {
              "type": "string",
              "description": "功能权限列表"
            },
            "refType": "string"
          },
          "appInfo": {
            "$ref": "#/components/schemas/SysAppDo",
            "refType": "SysAppDo"
          },
          "roleDataMap": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "description": "数据权限汇总",
              "items": {
                "type": "integer",
                "description": "数据权限汇总",
                "format": "int64"
              }
            },
            "description": "数据权限汇总",
            "refType": null
          },
          "staffInfo": {
            "$ref": "#/components/schemas/BaseStaffVo",
            "refType": "BaseStaffVo"
          }
        },
        "description": "基础信息"
      },
      "BaseUserVo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "用户id",
            "format": "int64",
            "refType": null
          },
          "userName": {
            "type": "string",
            "description": "用户账号",
            "refType": null
          },
          "nickName": {
            "type": "string",
            "description": "用户名称",
            "refType": null
          },
          "phone": {
            "type": "string",
            "description": "联系方式",
            "refType": null
          },
          "avatar": {
            "type": "string",
            "description": "用户头像",
            "refType": null
          },
          "email": {
            "type": "string",
            "description": "邮箱",
            "refType": null
          },
          "tenantId": {
            "type": "string",
            "description": "租户ID",
            "refType": null
          },
          "theme": {
            "type": "integer",
            "description": "用户主题(0:浅色;1:深色)",
            "format": "int32",
            "refType": null
          },
          "loginIp": {
            "type": "string",
            "description": "上次登录IP",
            "refType": null
          },
          "loginDate": {
            "type": "string",
            "description": "上次登录时间",
            "format": "date-time",
            "refType": null
          },
          "createTime": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time",
            "refType": null
          }
        },
        "description": "用户信息"
      },
      "SysMenuDo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "refType": null
          },
          "createBy": {
            "type": "integer",
            "description": "创建人",
            "format": "int64",
            "refType": null
          },
          "createTime": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time",
            "refType": null
          },
          "updateBy": {
            "type": "integer",
            "description": "更新人",
            "format": "int64",
            "refType": null
          },
          "updateTime": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time",
            "refType": null
          },
          "remark": {
            "type": "string",
            "description": "备注",
            "refType": null
          },
          "tenantId": {
            "type": "string",
            "refType": null
          },
          "params": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "refType": null
          },
          "delFlag": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "idStr": {
            "type": "string",
            "refType": null
          },
          "labelStr": {
            "type": "string",
            "refType": null
          },
          "flagStr": {
            "type": "string",
            "refType": null
          },
          "appId": {
            "type": "integer",
            "format": "int64",
            "refType": null
          },
          "menuName": {
            "type": "string",
            "refType": null
          },
          "parentName": {
            "type": "string",
            "refType": null
          },
          "parentId": {
            "type": "integer",
            "format": "int64",
            "refType": null
          },
          "menuFlag": {
            "type": "string",
            "refType": null
          },
          "menuType": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "menuPosition": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "jumpType": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "path": {
            "type": "string",
            "refType": null
          },
          "isNewTab": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "orderNum": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "icon": {
            "type": "string",
            "refType": null
          },
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SysMenuDo"
            },
            "refType": "SysMenuDo"
          },
          "menuFunctions": {
            "type": "string",
            "refType": null
          }
        },
        "description": "后端菜单树"
      },
      "SysAppDo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "refType": null
          },
          "createBy": {
            "type": "integer",
            "description": "创建人",
            "format": "int64",
            "refType": null
          },
          "createTime": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time",
            "refType": null
          },
          "updateBy": {
            "type": "integer",
            "description": "更新人",
            "format": "int64",
            "refType": null
          },
          "updateTime": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time",
            "refType": null
          },
          "remark": {
            "type": "string",
            "description": "备注",
            "refType": null
          },
          "tenantId": {
            "type": "string",
            "refType": null
          },
          "params": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "refType": null
          },
          "delFlag": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "idStr": {
            "type": "string",
            "refType": null
          },
          "labelStr": {
            "type": "string",
            "refType": null
          },
          "flagStr": {
            "type": "string",
            "refType": null
          },
          "appName": {
            "type": "string",
            "refType": null
          },
          "appFlag": {
            "type": "string",
            "refType": null
          },
          "serverUrl": {
            "type": "string",
            "refType": null
          },
          "homeUrl": {
            "type": "string",
            "refType": null
          },
          "version": {
            "type": "string",
            "refType": null
          },
          "appSort": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "appGroupId": {
            "type": "integer",
            "format": "int64",
            "refType": null
          },
          "appGroupFlag": {
            "type": "string",
            "refType": null
          },
          "appGroup": {
            "$ref": "#/components/schemas/SysAppGroupDo",
            "refType": "SysAppGroupDo"
          },
          "appGroupName": {
            "type": "string",
            "refType": null
          },
          "icon": {
            "type": "string",
            "refType": null
          },
          "logo": {
            "type": "string",
            "refType": null
          },
          "appVersion": {
            "$ref": "#/components/schemas/SysAppVersionDo",
            "refType": "SysAppVersionDo"
          }
        },
        "description": "应用信息"
      },
      "SysAppGroupDo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "refType": null
          },
          "createBy": {
            "type": "integer",
            "description": "创建人",
            "format": "int64",
            "refType": null
          },
          "createTime": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time",
            "refType": null
          },
          "updateBy": {
            "type": "integer",
            "description": "更新人",
            "format": "int64",
            "refType": null
          },
          "updateTime": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time",
            "refType": null
          },
          "remark": {
            "type": "string",
            "description": "备注",
            "refType": null
          },
          "tenantId": {
            "type": "string",
            "refType": null
          },
          "params": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "refType": null
          },
          "delFlag": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "idStr": {
            "type": "string",
            "refType": null
          },
          "labelStr": {
            "type": "string",
            "refType": null
          },
          "flagStr": {
            "type": "string",
            "refType": null
          },
          "appGroupName": {
            "type": "string",
            "refType": null
          },
          "appGroupType": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "appGroupFlag": {
            "type": "string",
            "refType": null
          },
          "appGroupSort": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "refType": null
          }
        }
      },
      "SysAppVersionDo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "refType": null
          },
          "createBy": {
            "type": "integer",
            "description": "创建人",
            "format": "int64",
            "refType": null
          },
          "createTime": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time",
            "refType": null
          },
          "updateBy": {
            "type": "integer",
            "description": "更新人",
            "format": "int64",
            "refType": null
          },
          "updateTime": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time",
            "refType": null
          },
          "remark": {
            "type": "string",
            "description": "备注",
            "refType": null
          },
          "tenantId": {
            "type": "string",
            "refType": null
          },
          "params": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "refType": null
          },
          "delFlag": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "idStr": {
            "type": "string",
            "refType": null
          },
          "labelStr": {
            "type": "string",
            "refType": null
          },
          "flagStr": {
            "type": "string",
            "refType": null
          },
          "appId": {
            "type": "integer",
            "format": "int64",
            "refType": null
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "version": {
            "type": "string",
            "refType": null
          }
        }
      },
      "BaseStaffVo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "员工ID",
            "format": "int64",
            "refType": null
          },
          "staffName": {
            "type": "string",
            "description": "员工姓名",
            "refType": null
          },
          "staffNumber": {
            "type": "string",
            "description": "员工编号",
            "refType": null
          },
          "departmentTreeStr": {
            "type": "string",
            "description": "组织结构",
            "refType": null
          },
          "departmentId": {
            "type": "integer",
            "description": "部门ID",
            "format": "int64",
            "refType": null
          },
          "departmentName": {
            "type": "string",
            "description": "部门",
            "refType": null
          },
          "postId": {
            "type": "integer",
            "description": "岗位ID",
            "format": "int64",
            "refType": null
          },
          "postName": {
            "type": "string",
            "description": "岗位",
            "refType": null
          },
          "positionId": {
            "type": "integer",
            "description": "职务ID",
            "format": "int64",
            "refType": null
          },
          "positionName": {
            "type": "string",
            "description": "职务",
            "refType": null
          }
        },
        "description": "员工信息"
      }
    }
  }
}
